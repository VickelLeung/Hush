{"ast":null,"code":"// import React, {PureComponent} from \"react\";\n// import styled from \"styled-components\";\n// import { w3cwebsocket as W3CWebSocket } from \"websocket\";\n// //const client = new W3CWebSocket('ws://localhost:8080/', 'echo-protocol');\n// const client = new W3CWebSocket('ws://localhost:3030');\n// class Chat extends React.PureComponent{\n//   state = {\n//         currentUsers: [],\n//         userActivity: [],\n//         username: \"null\",\n//         userMsg: \"\",\n//         messages: []\n//     };\n//     componentDidMount = () =>{\n//       client.onopen = function() {\n//         console.log('WebSocket Client Connected');\n//     };\n//     client.onmessage = (message) => {\n//       // this.setState({test : message.data});\n//       const getMsg = JSON.parse(message.data)\n//       this.addMessage(getMsg);\n//       console.log(\"got msg \" + message.data);\n//     };\n//     client.onclose = function() {\n//         console.log('echo-protocol Client Closed');\n//     };\n//     }\n//     addMessage=(message)=>{ this.setState(state => ({ messages: [message, ...state.messages] })) }\n//     logInUser = () => {\n//         const username = this.username.value;\n//         if (username.trim()) {\n//           const data = {\n//             username\n//           };\n//           this.setState({\n//             ...data\n//           }, () => {\n//             client.send(JSON.stringify({\n//               ...data,\n//               type: \"userevent\"\n//             }));\n//           });\n//         }\n//       }\n//     sendMsg = () =>{\n//       const msg = {name: this.state.username, message: this.state.userMsg}\n//         console.log(\"send message: \" + this.state.userMsg);\n//         client.send(JSON.stringify(msg));\n//         this.addMessage(msg);\n//        // console.log(\"thi: \" + this.state.receiveMsg[0]);\n//     }\n//     render(){\n//         return(\n//             <Wrapper>\n//               <h>Message box</h>\n//                 <MessageBox>\n//                   {this.state.messages.map((msg, index)=>{\n//                     return<div key={index}>\n//                       <h3>username: {msg.name}</h3>\n//                       <p>msg: {msg.message}</p>\n//                     </div>\n//                   })}\n//                 </MessageBox>\n//                 <span>Username: </span><input onChange={(e)=>{this.setState({username: e.target.value})}}/>\n//                 <input onChange={(e)=>{this.setState({userMsg: e.target.value})}} />\n//                 <button onClick={this.sendMsg}>Submit</button>\n//             </Wrapper>\n//         )\n//     }\n// }\n// export {Chat};\n// const Wrapper = styled.div``;\n// const MessageBox = styled.div``;","map":{"version":3,"sources":["/Users/vickelleung/Documents/projects/Hush/src/pages/Chat.js"],"names":[],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA","sourcesContent":["// import React, {PureComponent} from \"react\";\n// import styled from \"styled-components\";\n// import { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\n// //const client = new W3CWebSocket('ws://localhost:8080/', 'echo-protocol');\n// const client = new W3CWebSocket('ws://localhost:3030');\n\n// class Chat extends React.PureComponent{\n    \n//   state = {\n//         currentUsers: [],\n//         userActivity: [],\n//         username: \"null\",\n//         userMsg: \"\",\n//         messages: []\n\n//     };\n\n//     componentDidMount = () =>{\n\n//       client.onopen = function() {\n//         console.log('WebSocket Client Connected');\n     \n//     };\n\n//     client.onmessage = (message) => {\n//       // this.setState({test : message.data});\n//       const getMsg = JSON.parse(message.data)\n//       this.addMessage(getMsg);\n//       console.log(\"got msg \" + message.data);\n//     };\n\n//     client.onclose = function() {\n      \n//         console.log('echo-protocol Client Closed');\n//     };\n\n//     }\n\n//     addMessage=(message)=>{ this.setState(state => ({ messages: [message, ...state.messages] })) }\n\n//     logInUser = () => {\n//         const username = this.username.value;\n//         if (username.trim()) {\n//           const data = {\n//             username\n//           };\n//           this.setState({\n//             ...data\n//           }, () => {\n//             client.send(JSON.stringify({\n//               ...data,\n//               type: \"userevent\"\n//             }));\n//           });\n//         }\n//       }\n    \n//     sendMsg = () =>{\n//       const msg = {name: this.state.username, message: this.state.userMsg}\n//         console.log(\"send message: \" + this.state.userMsg);\n\n//         client.send(JSON.stringify(msg));\n//         this.addMessage(msg);\n//        // console.log(\"thi: \" + this.state.receiveMsg[0]);\n//     }\n\n//     render(){\n//         return(\n//             <Wrapper>\n//               <h>Message box</h>\n//                 <MessageBox>\n//                   {this.state.messages.map((msg, index)=>{\n//                     return<div key={index}>\n//                       <h3>username: {msg.name}</h3>\n//                       <p>msg: {msg.message}</p>\n//                     </div>\n//                   })}\n//                 </MessageBox>\n\n                \n//                 <span>Username: </span><input onChange={(e)=>{this.setState({username: e.target.value})}}/>\n\n//                 <input onChange={(e)=>{this.setState({userMsg: e.target.value})}} />\n//                 <button onClick={this.sendMsg}>Submit</button>\n//             </Wrapper>\n//         )\n//     }\n// }\n\n// export {Chat};\n\n// const Wrapper = styled.div``;\n\n// const MessageBox = styled.div``;"]},"metadata":{},"sourceType":"module"}